# 五子棋小游戏

一个功能丰富的五子棋游戏，支持人人对弈、人机对弈，并包含独特的技能系统。

## 📋 目录

- [功能特性](#功能特性)
- [游戏模式](#游戏模式)
- [技能系统](#技能系统)
- [安装与运行](#安装与运行)
- [操作说明](#操作说明)
- [游戏设置](#游戏设置)
- [技术栈](#技术栈)
- [项目结构](#项目结构)
- [作者信息](#作者信息)

## ✨ 功能特性

### 基础功能
- ✅ **双人对弈模式**：支持本地双人对战
- ✅ **人机对弈模式**：三种AI难度（简单、中等、困难）
- ✅ **棋盘大小可选**：支持 9×9、13×13、17×17 三种棋盘
- ✅ **主题切换**：四种棋盘主题（淡木色、深木色、绿色棋盘、灰色棋盘）
- ✅ **悔棋功能**：支持单步悔棋和连续悔棋
- ✅ **手数显示**：在棋子上显示落子顺序
- ✅ **高亮最后一手**：自动高亮显示最后一手棋
- ✅ **状态栏**：实时显示当前模式和轮到谁下棋
- ✅ **棋钟功能**：记录黑白双方累计用时
- ✅ **保存/读取游戏**：支持游戏进度保存和恢复

### 技能系统（仅人人对弈模式）
游戏包含四个独特的技能，为对局增添策略性：

1. **荧惑守心·双曜**
   - 效果：连续落两个子
   - 使用次数：每局 1 次

2. **星孛袭野·夺子**
   - 效果：指定敌方的一颗棋子变成我方棋子
   - 使用次数：每局 1 次

3. **天罡肃野·吞阵**
   - 效果：清空点击位置周围菱形范围内的棋子（共13个位置）
   - 范围：上下左右各2个，四个斜向各1个，中心1个
   - 使用次数：每局 1 次

4. **斗柄回寅·轮转**
   - 效果：逆时针旋转目标位置上下左右四个棋子
   - 旋转规则：上→左，左→下，下→右，右→上
   - 使用次数：每局 1 次

## 🎮 游戏模式

### 人人对弈（P2P）
- 两名玩家轮流下棋
- 支持所有技能系统
- 双方各自拥有独立的技能使用次数

### 人机对弈（P2M）
- 玩家执黑先行，AI执白后行
- 三种AI难度：
  - **简单**：随机落子，偶尔防守
  - **中等**：基础策略，会防守和进攻
  - **困难**：使用 Minimax 算法和 Alpha-Beta 剪枝，具有高级策略

## 🎯 技能系统

### 技能激活
1. 在菜单栏选择"技能"菜单
2. 点击要使用的技能
3. 按照提示操作（如点击目标位置）
4. 技能使用后自动切换回合

### 技能限制
- 技能仅在**人人对弈模式**下可用
- 每个技能每局只能使用 1 次
- 双方玩家各自拥有独立的技能状态

## 🚀 安装与运行

### 环境要求
- Java JDK 8 或更高版本
- 支持 Swing 的 Java 运行环境

### 运行方法
1. 克隆或下载项目到本地
2. 使用 IDE（如 IntelliJ IDEA）打开项目
3. 运行 `src/com/zstu/javalesson/wuziqi/Main.java`
4. 或者编译后运行：
   ```bash
   javac -d out src/com/zstu/javalesson/wuziqi/*.java
   java -cp out com.zstu.javalesson.wuziqi.Main
   ```

## 🎮 操作说明

### 基本操作
- **落子**：在棋盘上点击空位置即可落子
- **悔棋**：点击棋盘下方的"悔棋"按钮
- **新建游戏**：菜单栏 → 游戏 → 新建游戏
- **保存游戏**：菜单栏 → 游戏 → 保存游戏
- **读取游戏**：菜单栏 → 游戏 → 读取游戏

### 技能使用
1. 确保处于**人人对弈模式**
2. 菜单栏 → 技能 → 选择要使用的技能
3. 按照技能提示进行操作
4. 技能使用后自动切换回合

### 游戏设置
- **切换模式**：菜单栏 → 游戏选项 → 选择"人人对弈"或"人机对弈"
- **更改棋盘大小**：菜单栏 → 游戏选项 → 棋盘大小
- **切换主题**：菜单栏 → 游戏选项 → 主题
- **调整AI难度**：菜单栏 → 游戏选项 → AI难度（仅人机模式）

## ⚙️ 游戏设置

### 棋盘大小
- **9 路棋盘**：适合快速对局
- **13 路棋盘**：默认大小，平衡性最佳
- **17 路棋盘**：适合长时间对局

### 棋盘主题
- **淡木色**：温暖的浅色主题
- **深木色**：经典的深色主题（默认）
- **绿色棋盘**：清新的绿色主题
- **灰色棋盘**：简约的灰色主题

### AI 难度
- **简单**：适合新手练习
- **中等**：适合有一定基础的玩家
- **困难**：挑战高级玩家（默认）

## 🛠️ 技术栈

- **编程语言**：Java
- **GUI 框架**：Java Swing
- **设计模式**：MVC 架构
- **算法**：
  - Minimax 算法（AI）
  - Alpha-Beta 剪枝优化
  - 模式识别和评估函数

## 📁 项目结构

```
Wuziqi/
├── src/
│   └── com/zstu/javalesson/wuziqi/
│       ├── Main.java                    # 程序入口
│       ├── WuziqiForm.java              # 主窗口框架
│       ├── WuziqiPanel.java             # 游戏面板
│       ├── WuziqiModel.java             # 游戏数据模型
│       ├── Agent.java                   # AI 智能体
│       ├── Skill.java                   # 技能接口
│       ├── SkillManager.java            # 技能管理器
│       ├── SkillType.java               # 技能类型枚举
│       ├── DoubleMoveSkill.java         # 荧惑守心·双曜
│       ├── ProvokeSkill.java            # 星孛袭野·夺子
│       ├── DevourSkill.java             # 天罡肃野·吞阵
│       ├── RotateSkill.java             # 斗柄回寅·轮转
│       ├── RestorableSkill.java         # 可恢复状态接口
│       ├── Theme.java                   # 主题枚举
│       ├── Difficulty.java              # AI难度枚举
│       └── ...                          # 其他辅助类
├── data/
│   └── game.dat                         # 游戏存档文件
└── README.md                            # 本文件
```

## 🎨 游戏截图

### 主要界面
- 棋盘界面：清晰的网格线和棋子显示
- 状态栏：显示当前模式和轮到谁下棋
- 棋钟：显示双方累计用时
- 技能菜单：在菜单栏中方便访问

### 特色功能
- 手数显示：每个棋子显示落子顺序
- 高亮最后一手：最后一手棋有特殊标记
- 技能提示：激活技能时显示操作提示

## 📝 更新日志

### 最新版本
- ✅ 添加技能系统（四个独特技能）
- ✅ 支持游戏保存/读取（包括技能状态）
- ✅ 添加棋钟功能
- ✅ 支持多种棋盘大小和主题
- ✅ AI 智能体优化（三种难度）
- ✅ 修复计时器刷新问题
- ✅ 修复游戏状态保存/恢复问题

## 👤 作者信息

- **GitHub**: [https://github.com/miharu0720](https://github.com/miharu0720)

## 📄 许可证

本项目为课程作业项目，仅供学习和参考使用。

## 🙏 致谢

感谢所有为这个项目提供建议和反馈的朋友们！

---

**破界连星，此乃神之一手定虚空！** ⭐

